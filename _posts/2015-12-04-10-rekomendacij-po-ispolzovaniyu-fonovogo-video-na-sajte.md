---
layout: post
title: "10 рекомендаций по использованию фонового видео на сайте"
date: 2015-12-04 22:40:11
categories: [development]
tags: [performance, design, translation, sitepoint]
description: "10 советов по использованию видео в качестве фона плюс реклама плагина  jQuery Background Video"
prism: yes
original: "http://www.sitepoint.com/10-guidelines-better-website-background-videos/"
original_title: "10 Guidelines for Better Website Background Videos"
original_author: "Энгус Рассел"
thumbnail: "/images/development/design/1447899031featured-image-e1447899081326.jpg"
---

![Фоновые видео](/images/development/design/1447899031featured-image-e1447899081326.jpg){: itemprop="image"}

Последние несколько лет мы все чаще видим сайты, использующие фоновые видео в качестве элемента дизайна. И этот тренд будет только расти, ведь скорость интернет соединения увеличивается, видеокодеки совершенствуются, а браузерная поддержка HTML5 видео становится все шире.

При плохой реализации фоновое видео может вызвать негативные последствия в виде замедления скорости страницы, отвлечения пользователя от ее основного содержимого и даже ухудшения самочувствия пользователей, если в видео слишком много движения или панорамирования.

Однако при хорошей реализации, фоновое видео может сработать как легкое касание дизайна, добавляющее сайту новый слой восприятия.

Так как нам избежать ошибок и сделать все правильно? Легко, просто следуйте этим 10 советам.

## Сжимайте видео, насколько это возможно

Нет ничего хуже, чем посещение сайта, фоновое видео на котором постоянно спотыкается при попытках буферизации. Это отвлекает и создает ощущение, что весь сайт тормозит, даже если все остальное содержимое уже загружено.

Чтобы избежать этого, надо сжать видео до минимального приемлемого для нас битрейта. Есть соблазн использовать высококачественное видео в разрешении [1080p](https://ru.wikipedia.org/wiki/Full_HD),  чтобы повысить четкость и красоту, но это совершенно не стоит компромисса с увеличением времени загрузки и прерываемым стримингом.

Вам стоит использовать [видео 720p](https://en.wikipedia.org/wiki/720p) с низкой частотой кадров (24-25 кадров в секунду) и протестировать несколько разных битрейтов от 750k до 1250k. Также есть несколько хаков, которые помогут скрыть низкое качество видео, но о них чуть позже.

## Используйте наложение для скрытия артефактов

![Применение оверлея для видео-бэкграунда](/images/development/design/1447899037pattern-overlay-e1447899066437.jpg){: itemprop="image"}

Если вас не радует качество вашего видео, или же у видео, устраивающего вас качества, есть проблемы с плавностью, вам стоит попробовать добавить слой-наложение к видео, что поможет замаскировать его качество. Это легко делается путем добавления абсолютно спозиционированного `div` сразу после видео или с использованием псевдо-элемента `::after` в контейнере видео.

Вам надо применить к этому элементу свойство CSS `pointer-events: none;`, чтобы он не препятствовал управлению проигрыванием видео.

Полупрозрачное наложение ровного цвета  может выглядеть неплохо, особенно если настроить наложение цвета в соответствии с цветами остальной части вашего дизайна. Наложение с паттерном может выглядеть еще лучше, но его сложнее сочетать с дизайном.

Чтобы увидеть наложение в действии, проверьте это [демо с паттернами-наложениями](http://html5backgroundvideos.com/pattern-overlays/) и видео низкого качества.

## Ограничивайте общий размер и длину видео

Низкий битрейт помогает обеспечить плавность воспроизведения видео без пауз для буферизации, но нельзя забывать о том, что пользователи приходят на сайт не для того, чтобы смотреть фоновое видео. Не стоит рассчитывать на то, что они будут рады скачать 20 мегабайт двухминутного видео.

Всегда ограничивайте длину вашего видео в рамках 30--40 секунд, а лучше еще более короткий момент, бесшовно закольцованный и выглядящий как длинное видео, но размером не больше 1--2 мегабайт. Немного рекламы: вы можете найти несколько [неплохих закольцованных видео на BG Stock](https://html5backgroundvideos.com/product_features/seamless-loop/), этот видеосток я создал специально для использования видео в качестве фона на сайтах (впрочем, [хватает и других видеостоков](http://www.hongkiat.com/blog/download-free-stock-video-intros/)).

## Избегайте чрезмерного движения

Ключевое слово в сочетании "фоновое видео" — "фоновое". Видео играет вспомогательную роль по отношению к контенту сайта и мы должны обеспечить, чтобы оно не перетягивало внимание на себя. Фоновые видео должны быть ненавязчивыми и плавными, чтобы не отвлекать пользователей от того, для чего они пришли на сайт. А, значит, надо избегать быстрого или чрезмерного панорамирования, трясущейся/нестабилизированной съемки и внезапного обрыва видео.

## Обеспечьте достаточный контраст для текста на переднем плане

Если на фоне видео есть текст, важно, чтобы он был читаемым. Если цвет текста сталкивается с видео, надо добавить наложение, чтобы выделить текст или же добавить тексту тень или фоновый цвет.

Этому также поможет отсутствие резких цветовых контрастов в вашем видео. Например, очень трудно разместить текст без потери читаемости на фоне подобного видео (см. изображение ниже) по причине чередования в нем темных и светлых участков, пересечение с одним из которых повлечет низкую контрастность.

![Фон, неподходящий для наложения текста](/images/development/design/1447899025contrasty-video-text-e1447899053504.jpg){: itemprop="image"}

## Обеспечьте заполнение фоном всего контейнера

В CSS3 есть отличное и широко известное свойство `background-size`  и одно из его возможных значений `cover` позволяет фоновому изображению занимать столько пространства, чтобы закрывать весь элемент, ни больше и ни меньше, сохраняя при этом оригинальное соотношение сторон.

И есть менее известное свойство `object-fit`, позволяющее проделывать тот же трюк с элементами DOM, что является отличным способом обеспечить заполнение нашим видео контейнера. К сожалению, [поддержка в браузерах этого свойства пока недостаточна (привет, IE!)](http://caniuse.com/#feat=object-fit), поэтому приходиться  использовать полифилл или JavaScript для достижения такого поведения.

Самый простой вариант:  jQuery плагин  [jQuery Background Video (написанный автором этой статьи — Энгусом Расселом)](https://github.com/BGStock/jquery-background-video), который берет все эти заботы на себя, а также делает несколько других полезных вещей. Это не [единственный плагин jQuery](http://www.jqueryrain.com/demo/jquery-video-background-plugin/) для фонового видео.

## Адаптируйте для разных устройств

На данный момент поддержка фонового видео на мобильных устройствах не слишком хороша. iOS отключает автовоспроизведение видео, помещая на видео большую иконку воспроизведения, после нажатия на которую и запускается видео.

Если бы мы помещали обычное видео на нашу страницу, то такое поведение было бы прекрасным, но так как наше видео это лишь элемент дизайна, то нам нужен запасной вариант в виде фонового изображения. А так как у Android устройств также есть проблемы с воспроизведением, в обоих случаях лучше отключить видео и использовать фоновое изображение.

Как вы это сделаете зависит от вас — вы можете спрятать видео на маленьких экранах с помощью медиа-запроса или удалив видео для всех устройств iOS/Android, после проверки пользовательского агента с  JavaScript. Плагин  jQuery Background Video делает это по умолчанию.

## Не зацикливайте видео навсегда

Если вы добавите атрибут `loop` к тегу `video`, ваш браузер будет его воспроизводить вплоть до закрытия вкладки. Это потребляет ресурсы процессора и может замедлить производительность остальной части страницы.

Вы можете удалить этот атрибут и воспроизвести видео один раз, но в большинстве случаев у нас короткое зацикленное видео и этот способ нам не подходит. Проще написать код JavaScript, останавливающий воспроизведение через определенное время и сбрасывающий таймер, если видео остановлено или запущено вручную (в большинстве браузеров для этого достаточно клика правой клавишей мыши).

Вышеупомянутый плагин jQuery Background Video позволяет настроить остановку воспроизведения видео через указанное время.

## Добавьте кнопку паузы

Независимо от степени вашего восхищения  фоновым видео, обязательно найдутся люди, которым захочется поставить его на паузу. Оно может  не понравится им, может создать впечатление замедления работы компьютера, а может они просто не рассчитывают на то, что оно остановится само.

Мы можем легко добавить кнопку паузы с помощью JavaScript —  а в  jQuery Background Video эта кнопка добавляется по умолчанию и вам надо лишь определиться с ее размещением и стилями.

## Предусмотрите затухание

И еще раз: наше фоновое видео должно быть ненавязчивым. Внезапные движения при начале его воспроизведения могут отвлечь пользователя, поэтому в большинстве случаев будет хорошей идеей при запуске видео создать эффект затухания.

Мы можем сделать это, добавив изображение в качестве фона для элемента, содержащего `<video>` и задав видео прозрачность 0 по умолчанию (1 при начале воспроизведения), а также добавив CSS-переход свойства прозрачности. Это тоже есть в плагине jQuery Background Video.

Также имеет смысл добавлять затухание при паузе видео, особенно если замещающее изображение более высокого качества, чем видео.

