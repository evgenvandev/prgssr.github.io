---
layout: post
title:  "Правка mp3-тегов в Linux с помощью EasyTAG"
date:   2015-07-14 16:17:00
categories: articles
description: "Правка mp3 тегов в Linux и Ubuntu. Заполнение тегов с помощью масок в EasyTag, переименование файлов и обработка полей. Импорт данных из CDDB и Discogs."
tags: linux audio
thumbnail: "/images/articles/easy-mask3.png"
---

Интерес к mp3-тегам  появляется по мере увеличения аудиозаписей. Можно не парится, когда их меньше гигабайта и для прослушивания музыки используется что-либо winamp-образное. Но когда количество аудиозаписей приближается к терабайту, а в качестве основного плеера используется Rhythmbox, Amarok или их клоны, файлы с непрописанными тегами становятся фактически не используемыми. Также это актуально для тех, кто пользуется Last.fm, ведь файлы без тегов не учитываются скробблером.

Для заполнения и правки тегов я использую EasyTAG. Остальные варианты не подошли из-за недостаточного функционала (Tag Tool) или из-за меньшего удобства (Poodle Tag, Kid3 (хотя о нем еще будет пара добрых слов)).

### Заполняем теги из базы CDDB

Итак, у нас есть каталог с файлами, как правило, это альбом, в котором не прописаны теги. Проще всего их прописать, если альбом имеется в базе данных CDDB, для этого обычно хватает нескольких кликов. Этот вариант сработает с  большинством альбомов, изданных на компакт-диске.

1. Выбираем нужный каталог:
![easyTag-cddb](/images/articles/easy-cddb.png)

2. Выделяем файлы и нажимаем кнопку CDDB:
![easyTag-cddb](/images/articles/easy-cddb1.png)

3. В появившемся меню нажимаем кнопку "Найти":
![easyTag-cddb](/images/articles/easy-cddb2.png)

4. Если мы нашли нужный альбом, нажимаем кнопку "Применить":
![easyTag-cddb](/images/articles/easy-cddb4.png)

5. Все! В наших файлах есть теги, нам осталось только сохранить их:
![easyTag-cddb](/images/articles/easy-cddb5.png)

### Заполняем теги с помощью масок

Но если вы слушаете какие-нибудь винрарные рипы винила или новомодные кассетные релизы, способ нажатия кнопки не прокатит. Но это не проблема, если каталог и файлы названы правильно.

А если они названы правильно, то мы можем автоматически передать эти данные в теги. Для этого у нас есть сканер файлов, в меню которого надо выбрать пункт "заполнить тег". Теперь нам надо создать подходящую для случая маску. В наличии есть несколько готовых масок, есть возможность сохранять свои, но так как каталоги называются самыми разными способами, я предпочитаю создавать свои маски. Это просто.

1. Выделяем все файлы в нужном каталоге:
![easy-mask](/images/articles/easy-mask.png)

2. У нас есть подсказка -  в какое поле тега будут записываться фрагменты пути и имени файла:
![easy-mask](/images/articles/easy-mask2.png)

3. И что важно, эта подсказка работает в режиме реального времени, вы сразу видите будущий тег и возможные ошибки:
![easy-mask](/images/articles/easy-mask3.png)

Разумеется, не забудьте сохранить файлы после заполнения тегов. Если какой-либо маской вы пользуетесь особо часто, то вы можете сохранить ее, чтобы затем просто выбирать ее из списка. Но я пользуюсь этой возможностью относительно редко, только когда приходится обрабатывать несколько однотипных каталогов с файлами.

### Обрабатываем поля

Следующая полезная фича сканера называется - "обработать поля". С ней мы делаем наши теги красивыми - капитализируем первые буквы в словах или же наоборот переводим в строчный регистр все остальные, а также правим прочие недостатки эпохи ограничений тегов ID3 v1.

1. Выделяем нужные файлы и выбираем в сканере "обработать поля"
![easyTag-fields](/images/articles/easy-fields.png)

2.Выбираем поля, которые собираемся преобразовать (исполнитель, название альбома и т.д.) и требуемые преобразования - капитализация первой буквы "Capitalize First letter", например:
![easyTag-fields](/images/articles/easy-fields1.png)

3.Сканируем файлы и получаем красивые теги:
![easyTag-fields](/images/articles/easy-fields2.png)

Последний пункт сканера это "переименовать файл и папку" позволяет задать единообразный паттерн именования файлов и папок. Это также практично и эстетично, особенно это оценят пользователи SoulSeek, если вы пользуетесь подобными вещами.

Вроде как вопрос с тегами решен, но бывают случаи, которые можно назвать "боль". Что-нибудь редкое, виниловое с названиями файлов типа "track №". И желательно сборник. Что делать - прописывать теги руками? Нет, у нас есть еще один шанс.

Время сказать долгожданную пару добрых слов о KID3. Он менее удобен при обзоре файлов и создании маски, но в нем есть суперфича. Кроме банальных баз типа GNUDB или MusicBrainz он может импортировать данные из Discogs или Amazon! А, как известно, на Discogs есть данные практически обо всем - от приватно напечатанных винилов до кассет, рассылавшихся мелкими независимыми лейблами. Просто выберите пункт меню, введите название альбома или автора (если каталог правильно назван, эти пункты могут быть заполнены автоматически) и у вас есть шанс. В случае успеха не забудьте переименовать файлы.
